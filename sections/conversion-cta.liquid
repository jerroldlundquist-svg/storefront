<section class="section section--dark" style="background: var(--lg-navy); color: white; text-align: center; padding: 72px 20px;">
  <div class="shell" style="max-width: 1200px; margin: 0 auto;">
    <h2 class="h2" style="color: white; font-size: clamp(24px, 3.2vw, 36px); line-height: 1.2;">{{ section.settings.title }}</h2>
    <p class="lead" style="color: #cfd9e3; font-size: 1.1rem; margin-bottom: 24px;">{{ section.settings.subtitle }}</p>
    {% assign product = all_products[section.settings.cta_product] %}
    <a class="btn btn--primary {% if section.settings.cta_direct %}tlg-buy{% endif %}" 
       href="{% if section.settings.cta_direct and product != blank %}/cart/{{ product.first_available_variant.id }}:1{% else %}{{ section.settings.cta_link }}{% endif %}" 
       {% if section.settings.cta_direct %}
         data-handle="{{ product.handle }}" 
         data-variant="{{ product.first_available_variant.id }}"
         data-direct="true"
       {% endif %}
       style="background: var(--lg-sky); color: #002c5a; padding: 12px 18px; border-radius: 8px; font-weight: 700; text-decoration: none; display: inline-block;">{{ section.settings.cta_text }}</a>
  </div>
</section>

{% schema %}
{
  "name": "Conversion CTA",
  "settings": [
    { "type": "text", "id": "title", "label": "Title", "default": "Unsure where to start?" },
    { "type": "textarea", "id": "subtitle", "label": "Subtitle", "default": "Begin with a 30â€‘minute strategy call. If we're not the right fit, we'll refer you to someone who is." },
    { "type": "text", "id": "cta_text", "label": "CTA Text", "default": "Schedule now" },
    { "type": "url", "id": "cta_link", "label": "CTA Link" },
    { "type": "checkbox", "id": "cta_direct", "label": "Is Direct Purchase (Upfront Payment)", "default": false },
    { "type": "product", "id": "cta_product", "label": "Product" }
  ],
  "presets": [{ "name": "Conversion CTA" }]
}
{% endschema %}
